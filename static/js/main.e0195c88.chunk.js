(this["webpackJsonpmovie-ts"]=this["webpackJsonpmovie-ts"]||[]).push([[0],{34:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var r=c(26),s=c.n(r),n=(c(34),c(1)),a=c(3),i=c(9),l=c(0),o=function(){return Object(l.jsx)("div",{className:"container mx-auto ",children:Object(l.jsxs)("div",{className:"flex justify-between items-center px-8 py-2 bg-gray-lightest border-t-2 rounded-t-lg border-gray-lightest flex-col md:flex-row",children:[Object(l.jsx)("div",{className:"pt-2 pb-2",children:Object(l.jsx)(i.b,{to:"/trends",children:Object(l.jsxs)("div",{className:"flex items-center",children:[Object(l.jsx)("img",{className:"lg:w-12 lg:h-12 sm:w-8 sm:h-8 h-8 w-8 ",src:"/img/icons/logo.png",alt:"siteLogo"}),Object(l.jsx)("p",{className:"lg:text-5xl md:text-4xl sm:text-3xl text-3xl text-white",children:"Movielike"})]})})}),Object(l.jsx)("div",{className:"p-2 whitespace-nowrap",children:Object(l.jsx)("nav",{children:Object(l.jsxs)("ul",{className:" flex space-x-10 text-sm md:text-lg text-white font-body font-semibold md:font-bold md:uppercase ",children:[Object(l.jsx)(i.b,{to:"/trends",children:Object(l.jsx)("li",{className:"cursor-pointer hover:text-yellow-400",children:"Trends"})}),Object(l.jsx)(i.b,{to:"/search",children:Object(l.jsx)("li",{className:"cursor-pointer hover:text-yellow-400",children:"Search by"})}),Object(l.jsx)(i.b,{to:"/saved",children:Object(l.jsx)("li",{className:"cursor-pointer hover:text-yellow-400",children:"Watch later"})})]})})})]})})},d=c(5),j=c.n(d),u=c(11),b=c(2),x=c(28),h=c.n(x).a.create({baseURL:"https://api.themoviedb.org/3/"}),m=function(e){return h.get("/movie/".concat(e,"?api_key=e5bf0d2a91e3d8acf07245cbd2950b9f&language=en-U")).then((function(e){return e.data}))},f=function(e){return h.get("/movie/".concat(e,"/videos?api_key=e5bf0d2a91e3d8acf07245cbd2950b9f&language=en-US")).then((function(e){return e.data.results[0]}))},v=function(e){return Object(u.a)(j.a.mark((function t(){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.get("/movie/".concat(e,"/similar?api_key=e5bf0d2a91e3d8acf07245cbd2950b9f&language=en-US"));case 2:return c=t.sent,t.abrupt("return",c.data.results);case 4:case"end":return t.stop()}}),t)})))()},p=function(e){return Object(u.a)(j.a.mark((function t(){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.get("/movie/popular?api_key=e5bf0d2a91e3d8acf07245cbd2950b9f&language=en-US&page=".concat(e));case 3:return c=t.sent,t.abrupt("return",c.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",console.error(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},O=function(e,t){return Object(u.a)(j.a.mark((function c(){var r;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,""===e){c.next=6;break}return c.next=4,h.get("/search/movie?api_key=4b8235a2493fa47038f86ca8c6056b47&language=en&query=".concat(e,"&page=").concat(t));case 4:return r=c.sent,c.abrupt("return",r.data);case 6:c.next=11;break;case 8:return c.prev=8,c.t0=c.catch(0),c.abrupt("return",console.error(c.t0));case 11:case"end":return c.stop()}}),c,null,[[0,8]])})))()},g=function(e){var t=e.text;return Object(l.jsx)("div",{className:"p-2 mt-4 mb-2 bg-yellow-400 text-black transition-all rounded-xl text-lg border-2 w-52 border-yellow-400 text-center cursor-pointer",children:Object(l.jsxs)("button",{className:"disabled:opacity-50 font-bold",disabled:!0,children:[t," \u2713"]})})},w=function(e){var t=e.text;return Object(l.jsx)("div",{className:"font-bold p-2 mt-4 mb-2 hover:bg-yellow-400 hover:text-black transition-all rounded-xl text-gray text-lg border-2 w-52 hover:border-yellow-400 text-center cursor-pointer",children:t})},y=c(29),N=function(){return Object(l.jsxs)(y.a,{speed:1,width:320,height:621,viewBox:"0 0 320 621",backgroundColor:"#0f1016",foregroundColor:"#171923",children:[Object(l.jsx)("rect",{x:"56",y:"430",rx:"10",ry:"10",width:"208",height:"48"}),Object(l.jsx)("rect",{x:"16",y:"-58",rx:"2",ry:"2",width:"288",height:"425"}),Object(l.jsx)("rect",{x:"20",y:"384",rx:"0",ry:"0",width:"280",height:"16"})]})},S=function(){var e,t,c=Object(n.useState)(null),r=Object(b.a)(c,2),s=r[0],o=r[1],d=Object(n.useState)({}),x=Object(b.a)(d,2),h=x[0],p=x[1],O=Object(n.useState)([]),y=Object(b.a)(O,2),S=y[0],k=y[1],_=Object(n.useState)(!1),L=Object(b.a)(_,2),C=L[0],P=L[1],E=Object(n.useState)(!1),J=Object(b.a)(E,2),I=J[0],U=J[1],B=Object(n.useState)(!1),F=Object(b.a)(B,2),T=F[0],A=F[1],M=Object(n.useState)(!1),R=Object(b.a)(M,2),W=R[0],q=R[1],Y=Object(a.f)().id;Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.t0=o,e.next=4,m(Y);case 4:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=p,e.next=9,f(Y);case 9:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=k,e.next=14,v(Y);case 14:e.t5=e.sent,(0,e.t4)(e.t5),A(!1);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[Y]),Object(n.useEffect)((function(){var e=localStorage.getItem("saved"),t=(e?JSON.parse(e):[]).some((function(e){return e.id===(null===s||void 0===s?void 0:s.id)}));P(t)}),[s]);return S.length>10&&(S.length=10),Object(l.jsxs)("div",{className:"text-gray leading-loose",children:[T?Object(l.jsx)(N,{}):Object(l.jsxs)("div",{className:"flex flex-col lg:flex-row ",children:[Object(l.jsxs)("div",{className:"flex-2 mr-0 lg:mr-10 flex flex-col items-center",children:[Object(l.jsxs)("div",{className:"relative",children:[(null===s||void 0===s?void 0:s.vote_average)?Object(l.jsx)("div",{className:"flex items-center justify-center absolute w-9 h-9 bg-yellow-400 rounded-full index-10 top-3 right-3 text-black font-semibold",children:null===s||void 0===s?void 0:s.vote_average}):null,Object(l.jsx)("img",{onLoad:function(){return q(!0)},className:"h-imgList w-imgList",src:(null===s||void 0===s?void 0:s.poster_path)&&W?"https://image.tmdb.org/t/p/w500/".concat(null===s||void 0===s?void 0:s.poster_path):"/img/preposter/preposter.png",alt:"poster"})]}),Object(l.jsx)("div",{onClick:function(){return U(!0)},children:Object(l.jsx)(w,{text:"Watch trailer"})})]}),Object(l.jsxs)("div",{className:"flex flex-col flex-1 relative items-center lg:items-start",children:[Object(l.jsx)("div",{onClick:function(){return function(){var e=localStorage.getItem("saved"),t=e?JSON.parse(e):[];t.push(s),localStorage.setItem("saved",JSON.stringify(t)),P(!0)}()},className:"relative lg:absolute top-0 right-0",children:C?Object(l.jsx)(g,{text:"Added "}):Object(l.jsx)(w,{text:"Add to watch later"})}),Object(l.jsx)("div",{className:"flex justify-between",children:Object(l.jsxs)("div",{className:"flex items-center",children:[Object(l.jsx)("img",{height:16,width:16,src:"/img/icons/clock.png",alt:""}),Object(l.jsxs)("span",{className:"ml-1",children:[null===s||void 0===s?void 0:s.runtime," minutes"]})]})}),Object(l.jsxs)("div",{className:"mt-6 mb-6 flex flex-col items-center lg:items-start",children:[Object(l.jsx)("span",{children:null===s||void 0===s||null===(e=s.release_date)||void 0===e?void 0:e.slice(0,4)}),Object(l.jsx)("h2",{className:"text-5xl text-white",children:null===s||void 0===s?void 0:s.original_title}),Object(l.jsx)("p",{className:"italic",children:null===s||void 0===s?void 0:s.tagline})]}),Object(l.jsx)("ul",{className:"flex flex-wrap justify-center md:justify-start mb-4 text-xl md:text-2xl list-disc lg:ml-5 ml-12",children:null===s||void 0===s||null===(t=s.genres)||void 0===t?void 0:t.map((function(e,t){return Object(l.jsx)("li",{className:"mr-10",children:e.name},t)}))}),Object(l.jsx)("div",{className:"mb-4 text-xl leading-loose",children:Object(l.jsxs)("div",{children:["Status: ",null===s||void 0===s?void 0:s.status]})}),Object(l.jsx)("div",{className:"p-3 bg-gray-light",children:null===s||void 0===s?void 0:s.overview}),Object(l.jsx)("div",{children:S.length>0?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("h2",{className:"text-3xl mt-8",children:["Similar to ",null===s||void 0===s?void 0:s.original_title,": "]}),Object(l.jsx)("div",{className:"flex flex-col md:flex-row md:flex-wrap md:justify-between mt-4",children:S.map((function(e){return Object(l.jsxs)("div",{className:"flex flex-col items-center mb-4",children:[Object(l.jsx)("div",{children:Object(l.jsx)(i.b,{to:"./".concat(e.id),children:Object(l.jsx)("img",{className:"h-64 w-48",src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:"poster"})})}),Object(l.jsx)("h2",{className:"w-48 text-xl text-white p-2 whitespace-nowrap overflow-hidden overflow-ellipsis text-center",children:e.original_title})]},e.id)}))})]}):null})]})]}),I?Object(l.jsx)("div",{onClick:function(){return U(!1)},className:"fixed inset-1/2 transform -translate-y-1/2 transform -translate-x-1/2 w-full h-full flex justify-center items-center bg-gray-lightest bg-opacity-95",children:Object(l.jsx)("iframe",{className:"w-9/12 h-3/5",src:"https://www.youtube.com/embed/".concat(h.key),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):null]})},k=function(e){var t=e.poster,c=e.title,r=e.description,s=e.id,n=e.score,a=e.isLoading;return Object(l.jsx)(l.Fragment,{children:a?Object(l.jsx)(N,{}):Object(l.jsx)("div",{className:"w-imgList py-10 relative mt-8",children:Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"relative",children:n?Object(l.jsx)("div",{className:"flex items-center justify-center absolute w-9 h-9 bg-yellow-400 rounded-full index-10 top-3 right-3 text-black font-semibold",children:(n-1).toPrecision(2)}):null}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:t?Object(l.jsx)("img",{className:"h-imgList w-imgList",src:"https://image.tmdb.org/t/p/w500".concat(t),alt:"poster"}):Object(l.jsx)("div",{className:"h-imgList w-imgList border-2 text-gray flex items-center justify-center",children:Object(l.jsx)("h2",{children:"Poster in unavailable"})})}),Object(l.jsx)("div",{className:"leading-loose text-gray-200 h-imgList w-imgList p-3 absolute top-10 left-0 opacity-0 hover:opacity-100 hover:bg-gray-lightest hover:bg-opacity-80 transition-all overflow-hidden overflow-ellipsis flex flex-col items-center justify-center text-sm",children:r})]}),Object(l.jsxs)("div",{className:"flex items-center flex-col",children:[Object(l.jsx)("h2",{className:"w-full text-xl text-white p-2 whitespace-nowrap overflow-hidden overflow-ellipsis text-center",children:c}),Object(l.jsx)(i.b,{to:"/details/".concat(s),children:Object(l.jsx)(w,{text:"More details"})})]})]})})})},_=function(e){var t=e.movies,c=e.isLoading;return Object(l.jsx)(l.Fragment,{children:t.map((function(e){return Object(l.jsx)(k,{isLoading:c,id:e.id,poster:e.poster_path,title:e.original_title,release:e.release_date,score:e.vote_average,description:e.overview},e.id)}))})},L=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(!1),a=Object(b.a)(s,2),i=a[0],o=a[1];return Object(n.useEffect)((function(){o(!0);var e=localStorage.getItem("saved"),t=e?JSON.parse(e):[];r(t),o(!1)}),[]),Object(l.jsx)("div",{children:c.length>0?Object(l.jsx)("div",{className:"flex justify-between flex-col items-center md:items-start md:flex-row md:flex-wrap",children:Object(l.jsx)(_,{isLoading:i,movies:c})}):Object(l.jsx)("h2",{className:"text-xl text-gray",children:"There no saved movies by now"})})},C=function(e){var t=e.currentPage,c=e.onPageChanged,r=e.totalPagesCount,s=[];if(r>10)if(t+5>r)for(var n=r-5;n<=r;n++)s.push(n);else if(t>5)for(var a=t-4;a<=t+5;a++)s.push(a);else for(var i=1;i<10;i++)s.push(i);else for(var o=1;o<=r;o++)s.push(o);return Object(l.jsxs)("div",{className:"flex text-gray items-center justify-around mt-12",children:[t>5?Object(l.jsx)("div",{onClick:function(){return c(1)},className:"hover:text-yellow-400 transition-all cursor-pointer",children:"\u0412 \u043d\u0430\u0447\u0430\u043b\u043e"}):null,s.map((function(e){return Object(l.jsx)("div",{onClick:function(){return c(e)},className:"w-12 h-12 border-2 cursor-pointer rounded-full flex items-center justify-center ".concat(e===t?"border-yellow-400":""," hover:border-yellow-400 transition-all"),children:e},e)})),t!==r?Object(l.jsx)("div",{onClick:function(){return c(r)},className:"hover:text-yellow-400 transition-all cursor-pointer",children:"\u0412 \u043a\u043e\u043d\u0435\u0446"}):null]})},P=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(""),a=Object(b.a)(s,2),i=a[0],o=a[1],d=Object(n.useState)(1),x=Object(b.a)(d,2),h=x[0],m=x[1],f=Object(n.useState)(1),v=Object(b.a)(f,2),p=v[0],g=v[1],w=Object(n.useState)(!1),y=Object(b.a)(w,2),N=y[0],S=y[1];Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,O(i,h);case 3:(t=e.sent)?(r(t.results),g(t.total_pages)):r([]),S(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[h,i]);return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"w-full rounded-lg bg-gray-light flex items-center mb-10",children:[Object(l.jsx)("input",{onChange:function(e){o(e.target.value)},className:"w-full border-0 p-3 bg-transparent outline-none text-gray ",placeholder:"Search something, for example 'The Shawshank Redemption'..."}),Object(l.jsx)("img",{className:"pr-4 cursor-pointer",src:"/img/icons/search.png",alt:"searchButton"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"flex justify-between flex-col items-center md:items-start md:flex-row md:flex-wrap",children:Object(l.jsx)(_,{isLoading:N,movies:c})}),N||0===c.length?null:Object(l.jsx)("div",{children:p>1?Object(l.jsx)(C,{currentPage:h,onPageChanged:function(e){m(e)},totalPagesCount:p}):null})]})]})},E=function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)([]),a=Object(b.a)(s,2),i=a[0],o=a[1],d=Object(n.useState)(1),x=Object(b.a)(d,2),h=x[0],m=x[1],f=Object(n.useState)(1),v=Object(b.a)(f,2),O=v[0],g=v[1];Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,p(h);case 3:(t=e.sent)&&(g(t.total_pages),o(t.results)),r(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[h]);return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"flex justify-between flex-col items-center md:items-start md:flex-row md:flex-wrap",children:Object(l.jsx)(_,{isLoading:c,movies:i})}),Object(l.jsx)("div",{children:c?null:Object(l.jsx)(C,{currentPage:h,onPageChanged:function(e){m(e)},totalPagesCount:O})})]})})},J=function(){return Object(l.jsx)("div",{className:"bg-gray-dark font-body ",children:Object(l.jsxs)("div",{className:"p-10",children:[Object(l.jsx)(o,{}),Object(l.jsx)("div",{className:"container mx-auto p-10 bg-gray-darkest border-b-2 rounded-b-lg border-gray-darkest ",children:Object(l.jsxs)(a.c,{children:[Object(l.jsx)(a.a,{exact:!0,path:"/",children:Object(l.jsx)(E,{})}),Object(l.jsx)(a.a,{path:"/trends",children:Object(l.jsx)(E,{})}),Object(l.jsx)(a.a,{path:"/search",children:Object(l.jsx)(P,{})}),Object(l.jsx)(a.a,{path:"/details/:id",children:Object(l.jsx)(S,{})}),Object(l.jsx)(a.a,{path:"/saved",children:Object(l.jsx)(L,{})})]})})]})})};s.a.render(Object(l.jsx)(i.a,{children:Object(l.jsx)(J,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.e0195c88.chunk.js.map